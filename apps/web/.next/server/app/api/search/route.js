"use strict";(()=>{var e={};e.id=280,e.ids=[280],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6404:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>m,originalPathname:()=>v,patchFetch:()=>g,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>y});var a={};t.r(a),t.d(a,{GET:()=>u});var s=t(2390),i=t(1498),o=t(9308),n=t(7024),p=t(5288);async function u(e){try{let r=e.nextUrl.searchParams.get("q");if(!r||0===r.trim().length)return n.Z.json({results:[]},{status:200});let t=r.trim(),a=await p._.property.findMany({where:{OR:[{address:{contains:t,mode:"insensitive"}},{city:{contains:t,mode:"insensitive"}},{zipCode:{contains:t,mode:"insensitive"}},{apn:{contains:t,mode:"insensitive"}}]},take:20,orderBy:[{address:"asc"},{city:"asc"}],select:{id:!0,address:!0,city:!0,state:!0,zipCode:!0,apn:!0,bedrooms:!0,bathrooms:!0,livingArea:!0,lotSize:!0,yearBuilt:!0,propertyType:!0}});return n.Z.json({results:a})}catch(e){return console.error("Search error:",e),n.Z.json({error:"Failed to search properties"},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/search/route",pathname:"/api/search",filename:"route",bundlePath:"app/api/search/route"},resolvedPagePath:"/Users/jonathanguyen/truehome/apps/web/src/app/api/search/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:h,headerHooks:m,staticGenerationBailout:y}=c,v="/api/search/route";function g(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:l})}},5288:(e,r,t)=>{t.d(r,{_:()=>s});let a=require("@prisma/client"),s=globalThis.prisma??new a.PrismaClient({log:["error"]})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[369,587],()=>t(6404));module.exports=a})();