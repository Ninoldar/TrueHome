(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[758],{1945:function(e,s,t){Promise.resolve().then(t.bind(t,334))},334:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(7573),r=t(7653),n=t(2859),i=t(2056),l=t.n(i);let c=t(4850).env.NEXT_PUBLIC_API_URL||"/api";function d(){var e;let s=(0,n.useParams)(),[t,i]=(0,r.useState)(null),[d,o]=(0,r.useState)(null),[m,x]=(0,r.useState)(!0),[h,g]=(0,r.useState)(null);return((0,r.useEffect)(()=>{let e=async()=>{try{let e=await fetch("".concat(c,"/properties/").concat(s.id));if(!e.ok)throw Error("Property not found");let t=await e.json();i(t);try{let e=await fetch("".concat(c,"/properties/").concat(s.id,"/risk-assessment"));if(e.ok){let s=await e.json();o(s)}}catch(e){console.warn("Could not load risk assessment:",e)}}catch(e){g(e instanceof Error?e.message:"Failed to load property")}finally{x(!1)}};s.id&&e()},[s.id]),m)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-xl",children:"Loading property..."})}):h||!t?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Property Not Found"}),(0,a.jsx)(l(),{href:"/",className:"text-primary-600 hover:underline",children:"Return to search"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,a.jsx)(l(),{href:"/",className:"text-primary-600 hover:underline mb-4 inline-block",children:"← Back to Search"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:t.address}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:[t.city,", ",t.state," ",t.zipCode]})]})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[d&&(0,a.jsxs)("div",{className:"mb-6 rounded-lg shadow-md p-6 border-l-4 ".concat("green"===d.color?"bg-green-50 border-green-500":"yellow"===d.color?"bg-yellow-50 border-yellow-500":"bg-red-50 border-red-500"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Property Risk Assessment"}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-4xl font-bold ".concat("green"===d.color?"text-green-700":"yellow"===d.color?"text-yellow-700":"text-red-700"),children:[d.score,"/100"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Risk Score"})]})]}),(0,a.jsxs)("div",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium ".concat("green"===d.color?"bg-green-200 text-green-800":"yellow"===d.color?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"),children:[d.level," Risk"]}),(0,a.jsx)("p",{className:"mt-3 text-gray-700",children:d.recommendation}),d.factors.length>0&&(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-gray-700",children:"Key Factors:"}),d.factors.map((e,s)=>(0,a.jsx)("div",{className:"text-sm text-gray-600 pl-4 border-l-2 border-gray-300",children:e.message},s))]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Property Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[t.apn&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"APN:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:t.apn})]}),t.lotSize&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Lot Size:"}),(0,a.jsxs)("span",{className:"ml-2 font-medium",children:[t.lotSize.toLocaleString()," sq ft"]})]}),t.livingArea&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Living Area:"}),(0,a.jsxs)("span",{className:"ml-2 font-medium",children:[t.livingArea.toLocaleString()," sq ft"]})]}),t.bedrooms&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Bedrooms:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:t.bedrooms})]}),t.bathrooms&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Bathrooms:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:t.bathrooms})]}),t.yearBuilt&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Year Built:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:t.yearBuilt})]}),t.propertyType&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Property Type:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:t.propertyType})]})]})]}),t.ownershipEvents.length>0&&(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Ownership History"}),(0,a.jsx)("div",{className:"mb-4 p-3 bg-primary-50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,a.jsx)("strong",{children:t.ownershipEvents.length})," ownership change",1!==t.ownershipEvents.length?"s":""," recorded",t.ownershipEvents.filter(e=>e.isCurrent).length>0&&(0,a.jsxs)("span",{className:"ml-2",children:["• Current owner since ",new Date((null===(e=t.ownershipEvents.find(e=>e.isCurrent))||void 0===e?void 0:e.fromDate)||"").toLocaleDateString("en-US",{year:"numeric",month:"long"})]})]})}),(0,a.jsx)("div",{className:"space-y-4",children:t.ownershipEvents.map((e,s)=>{let r=e.toDate?Math.round((new Date(e.toDate).getTime()-new Date(e.fromDate).getTime())/864e5):Math.round((new Date().getTime()-new Date(e.fromDate).getTime())/864e5),n=Math.floor(r/365),i=Math.floor(r%365/30);return(0,a.jsxs)("div",{className:"border-l-4 border-primary-500 pl-4 pb-4 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-lg",children:e.isCurrent?"Current Owner":"Previous Owner ".concat(t.ownershipEvents.length-s)}),e.ownerType&&(0,a.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["Type: ",e.ownerType]})]}),e.isCurrent&&(0,a.jsx)("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-800 rounded",children:"Current"})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(0,a.jsx)("strong",{children:"Period:"})," ",new Date(e.fromDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," - ",e.toDate?new Date(e.toDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Present"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"Duration:"})," ",n>0?"".concat(n," year").concat(1!==n?"s":""," "):"",i>0?"".concat(i," month").concat(1!==i?"s":""):"",0===n&&0===i?"Less than a month":""," ","(",r.toLocaleString()," days)"]}),e.documentRef&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Document: ",e.documentRef]})]},s)})})]}),t.sales.length>0&&(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Sales History"}),(0,a.jsx)("div",{className:"space-y-4",children:t.sales.map((e,s)=>{let r=s===t.sales.length-1,n=e.sellerName&&(e.sellerName.toLowerCase().includes("builder")||e.sellerName.toLowerCase().includes("corp")||e.sellerName.toLowerCase().includes("llc")||e.sellerName.toLowerCase().includes("development")||e.sellerName.toLowerCase().includes("construction"));return(0,a.jsxs)("div",{className:"border-l-4 border-green-500 pl-4",children:[(0,a.jsxs)("div",{className:"flex items-baseline justify-between mb-2",children:[(0,a.jsxs)("div",{className:"font-medium text-lg",children:["$",e.salePrice.toLocaleString()]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.saleDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.saleType&&(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-1",children:["Type: ",e.saleType]}),r&&n&&(0,a.jsxs)("div",{className:"text-sm text-gray-500 italic",children:["Original Builder: ",e.sellerName]}),s<t.sales.length-1&&(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-2",children:[Math.round((new Date(t.sales[s+1].saleDate).getTime()-new Date(e.saleDate).getTime())/864e5)," days between sales"]})]},s)})}),t.sales.length>1&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"Price History:"})," From $",Math.min(...t.sales.map(e=>e.salePrice)).toLocaleString()," ","to $",Math.max(...t.sales.map(e=>e.salePrice)).toLocaleString()," ","(",((Math.max(...t.sales.map(e=>e.salePrice))/Math.min(...t.sales.map(e=>e.salePrice))-1)*100).toFixed(1),"% change)"]})})]}),t.permits.length>0&&(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Building Permits & Inspections"}),(0,a.jsx)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,a.jsx)("strong",{children:t.permits.length})," permit",1!==t.permits.length?"s":""," on record",t.permits.filter(e=>"Completed"===e.status).length>0&&(0,a.jsxs)("span",{className:"ml-2",children:["• ",(0,a.jsx)("strong",{children:t.permits.filter(e=>"Completed"===e.status).length})," completed"]})]})}),(0,a.jsx)("div",{className:"space-y-4",children:t.permits.map((e,s)=>(0,a.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4 pb-4 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium text-lg",children:e.permitType}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("Completed"===e.status?"bg-green-100 text-green-800":"Issued"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(0,a.jsx)("strong",{children:"Permit #:"})," ",e.permitNumber]}),e.jurisdiction&&(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(0,a.jsx)("strong",{children:"Jurisdiction:"})," ",e.jurisdiction]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600 mb-2",children:[e.issuedDate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Issued:"})," ",new Date(e.issuedDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),e.completedDate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Completed:"})," ",new Date(e.completedDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),e.issuedDate&&e.completedDate&&(0,a.jsxs)("div",{className:"col-span-2 text-xs text-gray-500",children:["Duration: ",Math.round((new Date(e.completedDate).getTime()-new Date(e.issuedDate).getTime())/864e5)," days"]})]}),e.description&&(0,a.jsxs)("div",{className:"text-sm text-gray-700 mt-2 p-2 bg-gray-50 rounded",children:[(0,a.jsx)("strong",{children:"Details:"})," ",e.description]}),e.contractorName&&(0,a.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:[(0,a.jsx)("strong",{children:"Contractor:"})," ",e.contractorName]})]},s))})]}),t.workEvents.length>0&&(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Contractor Work History & Warranties"}),(0,a.jsx)("div",{className:"mb-4 p-3 bg-purple-50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,a.jsx)("strong",{children:t.workEvents.length})," work event",1!==t.workEvents.length?"s":""," recorded",t.workEvents.filter(e=>e.cost).length>0&&(0,a.jsxs)("span",{className:"ml-2",children:["• Total documented: ",(0,a.jsxs)("strong",{children:["$",t.workEvents.filter(e=>e.cost).reduce((e,s)=>e+(s.cost||0),0).toLocaleString()]})]}),t.workEvents.filter(e=>e.warrantyExpirationDate&&new Date(e.warrantyExpirationDate)>new Date).length>0&&(0,a.jsxs)("span",{className:"ml-2",children:["• ",(0,a.jsx)("strong",{children:t.workEvents.filter(e=>e.warrantyExpirationDate&&new Date(e.warrantyExpirationDate)>new Date).length})," active warranty",1!==t.workEvents.filter(e=>e.warrantyExpirationDate&&new Date(e.warrantyExpirationDate)>new Date).length?"ies":"y"]})]})}),(0,a.jsx)("div",{className:"space-y-4",children:t.workEvents.map((e,s)=>{let t=e.warrantyExpirationDate&&new Date(e.warrantyExpirationDate)>new Date,r=e.warrantyExpirationDate&&new Date(e.warrantyExpirationDate)<=new Date,n=e.warrantyExpirationDate?Math.round((new Date(e.warrantyExpirationDate).getTime()-new Date().getTime())/864e5):null;return(0,a.jsxs)("div",{className:"border-l-4 border-purple-500 pl-4 pb-4 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium text-lg",children:e.workType}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:new Date(e.workDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.description&&(0,a.jsxs)("div",{className:"text-sm text-gray-700 mb-2 p-2 bg-gray-50 rounded",children:[(0,a.jsx)("strong",{children:"Work Performed:"})," ",e.description]}),e.contractor&&(0,a.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-900 mb-1",children:"Contractor Information"}),(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,a.jsx)("div",{className:"font-medium",children:e.contractor.name}),e.contractor.licenseNumber&&(0,a.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:["License: ",e.contractor.licenseNumber," (",e.contractor.licenseType||"General",")"]}),e.contractor.phone&&(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["Phone: ",e.contractor.phone]}),e.contractor.email&&(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["Email: ",e.contractor.email]}),e.contractor.website&&(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["Website: ",(0,a.jsx)("a",{href:e.contractor.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.contractor.website})]})]})]}),e.warrantyExpirationDate&&(0,a.jsxs)("div",{className:"mb-3 p-3 rounded-lg border ".concat(t?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("div",{className:"font-semibold text-gray-900",children:"Warranty Information"}),t&&(0,a.jsx)("span",{className:"text-xs px-2 py-1 bg-green-200 text-green-800 rounded font-medium",children:"Active"}),r&&(0,a.jsx)("span",{className:"text-xs px-2 py-1 bg-gray-200 text-gray-800 rounded font-medium",children:"Expired"})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[e.warrantyType&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Type:"})," ",e.warrantyType]}),e.warrantyPeriodMonths&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Period:"})," ",e.warrantyPeriodMonths," months"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Expiration:"})," ",new Date(e.warrantyExpirationDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),t&&null!==n&&(0,a.jsxs)("span",{className:"ml-2 text-green-700 font-medium",children:["(",n," days remaining)"]}),r&&(0,a.jsx)("span",{className:"ml-2 text-red-700 font-medium",children:"(Expired)"})]}),e.warrantyDetails&&(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:e.warrantyDetails})]})]}),e.insuranceClaim&&(0,a.jsxs)("div",{className:"mb-2 text-xs text-gray-500",children:["Related to: ",(0,a.jsx)("span",{className:"font-medium",children:e.insuranceClaim.claimType})," claim from ",new Date(e.insuranceClaim.claimDate).toLocaleDateString("en-US",{year:"numeric",month:"short"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.cost&&(0,a.jsxs)("div",{className:"text-gray-600",children:[(0,a.jsx)("strong",{children:"Cost:"})," $",e.cost.toLocaleString()]}),e.invoiceNumber&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Invoice: ",e.invoiceNumber]}),e.verificationStatus&&(0,a.jsx)("div",{className:"text-xs",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded ".concat("verified"===e.verificationStatus?"bg-green-100 text-green-800":"pending"===e.verificationStatus?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.verificationStatus})})]})]},s)})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[t.rentalSignals.length>0&&(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Rental History"}),(0,a.jsx)("div",{className:"space-y-2",children:t.rentalSignals.map((e,s)=>(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.startDate&&new Date(e.startDate).toLocaleDateString()," -"," ",e.endDate?new Date(e.endDate).toLocaleDateString():"Present"]}),(0,a.jsxs)("div",{className:"text-gray-500",children:["Source: ",e.source]})]},s))})]}),t.insuranceClaims.length>0&&(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Insurance Claims History"}),(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,a.jsx)("strong",{children:t.insuranceClaims.length})," claim",1!==t.insuranceClaims.length?"s":""," on record",t.insuranceClaims.filter(e=>e.amount).length>0&&(0,a.jsxs)("span",{className:"ml-2",children:["• Total: ",(0,a.jsxs)("strong",{children:["$",t.insuranceClaims.filter(e=>e.amount).reduce((e,s)=>e+(s.amount||0),0).toLocaleString()]})]})]})}),(0,a.jsx)("div",{className:"space-y-4",children:t.insuranceClaims.map((e,s)=>(0,a.jsxs)("div",{className:"border-l-4 border-red-500 pl-4 pb-4 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium text-lg",children:e.claimType}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:new Date(e.claimDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(e.contractor||e.workEvents&&e.workEvents.length>0)&&(0,a.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-900 mb-1",children:"Work Performed By"}),e.contractor&&(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,a.jsx)("div",{className:"font-medium",children:e.contractor.name}),e.contractor.licenseNumber&&(0,a.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:["License: ",e.contractor.licenseNumber," (",e.contractor.licenseType||"General",")"]}),e.contractor.phone&&(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["Phone: ",e.contractor.phone]})]}),e.workDescription&&(0,a.jsxs)("div",{className:"text-sm text-gray-700 mt-2",children:[(0,a.jsx)("strong",{children:"Work:"})," ",e.workDescription]}),e.workEvents&&e.workEvents.length>0&&(0,a.jsx)("div",{className:"mt-2 space-y-2",children:e.workEvents.map((e,s)=>(0,a.jsxs)("div",{className:"text-xs bg-white p-2 rounded border border-blue-100",children:[(0,a.jsx)("div",{className:"font-medium",children:e.workType}),e.contractor&&(0,a.jsxs)("div",{className:"text-gray-600",children:["Contractor: ",e.contractor.name]}),e.warrantyExpirationDate&&(0,a.jsxs)("div",{className:"text-gray-600",children:["Warranty expires: ",new Date(e.warrantyExpirationDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),new Date(e.warrantyExpirationDate)>new Date&&(0,a.jsxs)("span",{className:"ml-1 text-green-700",children:["(Active - ",Math.round((new Date(e.warrantyExpirationDate).getTime()-new Date().getTime())/864e5)," days left)"]})]})]},s))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.amount&&(0,a.jsxs)("div",{className:"text-gray-600",children:[(0,a.jsx)("strong",{children:"Amount:"})," $",e.amount.toLocaleString()]}),e.status&&(0,a.jsxs)("div",{className:"text-gray-600",children:[(0,a.jsx)("strong",{children:"Status:"}),(0,a.jsx)("span",{className:"ml-1 px-2 py-1 rounded text-xs ".concat("Paid"===e.status?"bg-green-100 text-green-800":"Approved"===e.status?"bg-blue-100 text-blue-800":"Denied"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status})]}),e.verificationStatus&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Verification: ",e.verificationStatus]})]})]},s))})]}),(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Generate Report"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Create a comprehensive PDF report of this property's history"}),(0,a.jsx)("button",{className:"w-full px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Generate Report"})]}),(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Quick Stats"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Total Sales:"}),(0,a.jsx)("span",{className:"font-medium",children:t.sales.length})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Permits:"}),(0,a.jsx)("span",{className:"font-medium",children:t.permits.length})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Work Events:"}),(0,a.jsx)("span",{className:"font-medium",children:t.workEvents.length})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Ownership Changes:"}),(0,a.jsx)("span",{className:"font-medium",children:t.ownershipEvents.length})]}),t.insuranceClaims.length>0&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Insurance Claims:"}),(0,a.jsx)("span",{className:"font-medium",children:t.insuranceClaims.length})]})]})]})]})]})]})]})}}},function(e){e.O(0,[620,293,16,744],function(){return e(e.s=1945)}),_N_E=e.O()}]);